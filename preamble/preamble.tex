%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Languages, Encodings and Fonts
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[UKenglish]{babel}
\usepackage{lmodern}
\usepackage[thin]{roboto}
\usepackage{inconsolata}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{microtype}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Graphics and tables
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[table, dvipsnames]{xcolor}
\input{preamble/colors.tex}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{sidecap}
\usepackage{caption}
\captionsetup{  font=footnotesize,
                labelfont=bf}
\captionsetup[subfigure]{font=footnotesize}
\usepackage[nounderscore]{syntax}
\usepackage{array,booktabs,arydshln}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{tikz}
\usepackage{tkz-graph}
\usetikzlibrary{shapes,arrows}
\usepackage{tikz-qtree}
\usepackage{tikzscale}
\usetikzlibrary{shapes.multipart, arrows, matrix, automata, positioning, shadows, decorations.pathreplacing, calc}
\usepackage{float}
\setlength{\floatsep}{4.0pt plus 2.0pt minus 2.0pt}
\usepackage[off]{auto-pst-pdf}
\usepackage{wrapfig}
\usepackage{tcolorbox}
\tcbuselibrary{skins}
\usepackage{colortbl}
\usepackage[inline]{enumitem}
\SetLabelAlign{parright}{\parbox[t]{\labelwidth}{\raggedleft#1}}
\usepackage{moreenum}
\usepackage{setspace}
\usepackage{multicol}
\renewcommand{\multicolsep}{\itemsep}
\renewcommand{\arraystretch}{1.5}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Page Layout
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[left=28mm, right=41mm, bottom=32mm]{geometry}
\usepackage{titlesec}
\usepackage{blindtext}
\newcommand{\hsp}{\hspace{20pt}}
\titleformat{\part}[display]
    {\fontsize{38pt}{8pt}\filcenter\sffamily\selectfont\thispagestyle{empty}}
    {Part \thepart \vspace{6pt}\linebreak \textcolor{aaublue}{\rule{120pt}{1pt}} \linebreak}
    {0pt}
    {}
\titleformat{\chapter}[hang]%
    {\Huge\sffamily\mdseries\vspace{-40pt}}%
    {\thechapter\hsp\textcolor{aaublue}{|}\hsp}%
    {0pt}%
    {\Huge\sffamily\mdseries}%
    [\vspace{-20pt}]
\titleformat{\section}
    {\normalfont\Large\sffamily}{\thesection}{1em}{}
\titleformat{\subsection}
    {\normalfont\large\sffamily}{\thesubsection}{1em}{}
\titleformat{\subsubsection}
    {\normalfont\normalsize\sffamily}{\thesubsubsection}{1em}{}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyhead[RE]{\color{aaublue}\small\nouppercase\leftmark}
\fancyhead[LO]{\color{aaublue}\small\nouppercase\rightmark}
\fancyhead[LE,RO]{\thepage}
\raggedbottom
\fancypagestyle{plain}{
	\fancyhf{}
	\renewcommand{\headrulewidth}{0pt}
	\fancyhead[RE]{\color{aaublue}\small\nouppercase\leftmark}
	\fancyhead[LO]{\color{aaublue}\small\nouppercase\rightmark}
	\fancyhead[LE,RO]{\thepage}
	\raggedbottom
}
\usepackage{calc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[backend=biber,natbib=true,sorting=none]{biblatex}
\addbibresource{bibliography/mainbibliography.bib}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Hyperlinks
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{varioref}
\usepackage{hyperref}
\usepackage{lastpage}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Listings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{listings}
\lstset{
  numbers=left,
  firstnumber=1,
  numberfirstline=true,
  aboveskip=5pt,
  belowskip=5pt
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Misc
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[nottoc]{tocbibind}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\newtheorem{definition}{Definition}
\usepackage{xargs}
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\usepackage{csquotes}
\usepackage{booktabs}
\usepackage{xstring}
\usepackage[para]{footmisc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% MyRef
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[english]{cleveref}
\crefname{exa}{example}{examples}
\renewcommand{\reftextcurrent}{}
\newcommandx{\myref}[2][1=]{%
\IfStrEq{#1}{name}{\Cref{#2} \emph{\nameref{#2}} \vpageref{#2}}{\Cref{#2} \vpageref{#2}}%
}
\newcommand{\lowercaseref}[1]{\cref{#1}}

\usepackage{latexsym,multicol,color,pstricks}

\headheight 15pt

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TikZ
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tikzstyle{decision} = [diamond, draw, fill=yellow!40, text width=4.5em, text badly centered, inner sep=3pt]
\tikzstyle{block} = [rectangle, draw, fill=green!40, text width=5em	, rounded corners, text centered, minimum height=3em]
\tikzstyle{wideblock} = [block, text width=0.8\textwidth, align=center]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{dacloud} = [draw, ellipse,fill=red!20, node distance=3cm, minimum height=2em]
\tikzstyle{cloud_nospace} = [cloud, node distance=1cm]
\tikzstyle{preDefProc} = [draw,rectangle split, rectangle split horizontal,rectangle split parts=3, fill=green!40,minimum height=4em]

\overfullrule=2cm

% Pretty lstlistings
\definecolor{backcolor}{rgb}{0.95,0.95,0.92}
\lstset{language=Java,
  belowcaptionskip=1\baselineskip,
  breaklines=true,
  captionpos=b,
  frame=l,
  keepspaces=true,
  showstringspaces=false,
  basicstyle=\footnotesize\ttfamily,
  keywordstyle=\bfseries\color{blue},
  commentstyle=\color{green!50!black},
  stringstyle=\color{orange},
  backgroundcolor=\color{backcolor},
  numberstyle=\tiny\color{gray},
  numbers=left,
  numbersep=5pt,
  tabsize=1,
  escapeinside={(*@}{@*)},
  breakatwhitespace=true,
  moredelim=[il][\textcolor{pgrey}]{$$},
  moredelim=[is][\textcolor{pgrey}]{\%\%}{\%\%}
}
