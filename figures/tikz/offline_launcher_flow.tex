\resizebox{1\textwidth}{!}{
\begin{tikzpicture}[auto]
    \node [cloud, align=center] (start) {Start};
    \node [block, below = of start] (setup) {Setup application};
    \node [decision, right = of setup] (network) {Is offline?};
    \node [decision, right = of network] (hasprofiles) {Has profiles?};
    \node [block, right = of hasprofiles] (download) {Download profiles};
    \node [block, above = of download] (stopuser) {Wait for network connection};
    \node [block, below = of download] (cont) {Continue to login screen};
    \node [draw=none, left = of cont] (network_) {};
    \node [preDefProc, above right = of cont] (home) {\nodepart{two}{Go to homescreen}};

    \draw [line] (start) -- (setup);
    \draw [line] (setup) -- (network);
    \draw [line] (network) -- node {yes} (hasprofiles);
    \draw [line] (network) |- node [above right] {no} (cont);
    \draw [line] (hasprofiles) -- node {yes} (cont);
    \draw [line] (hasprofiles) -- node {no} (stopuser);
    \draw [line] (stopuser) -- (download);
    \draw [line] (cont) -| (home);

\end{tikzpicture}                                   
}
